<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<title>UploadFile</title>
</head>
<body>
	<h3>Upload File</h3>
	<form id="form "action="upload.controller" method="post"
		enctype="multipart/form-data" >
		<p>
			Please Select Your Picture to Upload:<br /> <input id="up"
				type="file" multiple name="myFiles"><br />
		</p>
		<input type="submit" value="Upload" />
		
		<div id="preview">
		
		</div>


	</form>
	<script type="text/javascript">
		function readURL(input) {

			
			if (input.files && input.files[0]) {
				for (let i = 0; i < input.files.length; i++) {
					var reader = new FileReader();

					reader.onload = function(e) {
						var img = $(
								`<img id="pic${i}" width='300' height='200'> `)
								.attr('src', e.target.result);
						$("#preview").append(img);
					}

					reader.readAsDataURL(input.files[i]); // convert to base64 string

				}

			}
		}

		$("#up").change(function() {
			$("#preview").html("");
			readURL(this);
		});
	</script>










</body>
</html>